<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Voice Expense Tracker</title>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Rubik', sans-serif;
            background: #0a0a0a;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(220, 20, 60, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 80%, rgba(139, 0, 0, 0.1) 0%, transparent 50%);
            min-height: 100vh;
            padding: 20px;
            color: #fff;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
        }

        .header {
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid #dc143c;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 
                0 0 20px rgba(220, 20, 60, 0.3),
                0 10px 40px rgba(0,0,0,0.5);
            text-align: center;
        }

        h1 {
            color: #ff1744;
            font-size: 28px;
            font-weight: 900;
            margin-bottom: 10px;
            text-shadow: 
                0 0 10px #ff1744,
                0 0 20px #ff1744,
                0 0 30px #ff1744;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from {
                text-shadow: 
                    0 0 5px #ff1744,
                    0 0 10px #ff1744,
                    0 0 15px #ff1744;
            }
            to {
                text-shadow: 
                    0 0 10px #ff1744,
                    0 0 20px #ff1744,
                    0 0 30px #ff1744,
                    0 0 40px #dc143c;
            }
        }

        .budget-container {
            background: rgba(30, 30, 30, 0.8);
            border: 1px solid #8b0000;
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
        }

        .budget-display {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .budget-label {
            font-size: 14px;
            color: #ff6b6b;
            font-weight: 700;
        }

        .budget-amount {
            font-size: 20px;
            font-weight: 900;
            color: #ff1744;
            text-shadow: 0 0 10px #ff1744;
        }

        .budget-input-group {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .budget-input {
            flex: 1;
            padding: 12px;
            background: rgba(50, 50, 50, 0.8);
            border: 2px solid #8b0000;
            border-radius: 8px;
            font-size: 16px;
            text-align: center;
            color: #fff;
            font-family: 'Rubik', sans-serif;
            font-weight: 700;
        }

        .budget-input:focus {
            outline: none;
            border-color: #ff1744;
            box-shadow: 0 0 10px rgba(255, 23, 68, 0.5);
        }

        .budget-btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 900;
            font-family: 'Rubik', sans-serif;
            box-shadow: 0 0 15px rgba(220, 20, 60, 0.5);
            transition: all 0.3s;
        }

        .budget-btn:active {
            transform: scale(0.95);
            box-shadow: 0 0 25px rgba(220, 20, 60, 0.8);
        }

        .total-box {
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid #dc143c;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 
                0 0 20px rgba(220, 20, 60, 0.3),
                0 10px 40px rgba(0,0,0,0.5);
            text-align: center;
        }

        .total-label {
            font-size: 16px;
            color: #ff6b6b;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .total-amount {
            font-size: 52px;
            font-weight: 900;
            color: #ff1744;
            margin-bottom: 5px;
            text-shadow: 
                0 0 10px #ff1744,
                0 0 20px #ff1744;
        }

        .remaining {
            font-size: 14px;
            color: #4caf50;
            margin-top: 10px;
            font-weight: 700;
            text-shadow: 0 0 5px #4caf50;
        }

        .remaining.warning {
            color: #ffc107;
            text-shadow: 0 0 5px #ffc107;
        }

        .remaining.danger {
            color: #ff1744;
            text-shadow: 0 0 5px #ff1744;
        }

        .input-controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .voice-button {
            flex: 3;
            background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
            color: white;
            border: 2px solid #ff1744;
            border-radius: 20px;
            padding: 30px 20px;
            font-size: 20px;
            font-weight: 900;
            cursor: pointer;
            box-shadow: 
                0 0 30px rgba(220, 20, 60, 0.5),
                0 10px 40px rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            transition: all 0.3s;
            font-family: 'Rubik', sans-serif;
        }

        .voice-button:active {
            transform: scale(0.95);
        }

        .voice-button.listening {
            background: linear-gradient(135deg, #ff1744 0%, #ff6b6b 100%);
            animation: pulse 1s infinite, glow-btn 1.5s infinite;
            box-shadow: 
                0 0 40px rgba(255, 23, 68, 0.8),
                0 10px 50px rgba(220, 20, 60, 0.6);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes glow-btn {
            0%, 100% {
                box-shadow: 
                    0 0 20px rgba(255, 23, 68, 0.5),
                    0 0 40px rgba(255, 23, 68, 0.3);
            }
            50% {
                box-shadow: 
                    0 0 40px rgba(255, 23, 68, 0.8),
                    0 0 60px rgba(255, 23, 68, 0.5);
            }
        }

        .mic-icon {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
        }

        .manual-btn {
            flex: 1;
            background: rgba(30, 30, 30, 0.9);
            border: 2px solid #8b0000;
            border-radius: 20px;
            padding: 30px 10px;
            font-size: 14px;
            font-weight: 700;
            color: #ff6b6b;
            cursor: pointer;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            transition: all 0.3s;
            font-family: 'Rubik', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 5px;
        }

        .manual-btn:active {
            transform: scale(0.95);
            border-color: #ff1744;
            box-shadow: 0 0 20px rgba(255, 23, 68, 0.3);
        }

        .manual-input {
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid #dc143c;
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.3);
        }

        .amount-input, .desc-input {
            width: 100%;
            padding: 15px;
            background: rgba(50, 50, 50, 0.8);
            border: 2px solid #8b0000;
            border-radius: 12px;
            font-size: 18px;
            color: #fff;
            font-family: 'Rubik', sans-serif;
            font-weight: 700;
            margin-bottom: 10px;
            text-align: center;
        }

        .amount-input:focus, .desc-input:focus {
            outline: none;
            border-color: #ff1744;
            box-shadow: 0 0 15px rgba(255, 23, 68, 0.5);
        }

        .add-btn, .cancel-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-size: 18px;
            font-weight: 900;
            font-family: 'Rubik', sans-serif;
            cursor: pointer;
            transition: all 0.3s;
        }

        .add-btn {
            background: linear-gradient(135deg, #4caf50 0%, #2e7d32 100%);
            color: white;
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.5);
        }

        .cancel-btn {
            background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
            color: white;
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.5);
        }

        .add-btn:active, .cancel-btn:active {
            transform: scale(0.95);
        }

        .expenses-list {
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid #8b0000;
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            margin-bottom: 20px;
        }

        .expense-item {
            background: rgba(30, 30, 30, 0.9);
            border: 1px solid #dc143c;
            padding: 15px;
            border-radius: 12px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .expense-item:hover {
            border-color: #ff1744;
            box-shadow: 0 0 15px rgba(255, 23, 68, 0.3);
        }

        .expense-details {
            flex: 1;
        }

        .expense-category {
            font-size: 12px;
            color: #ff1744;
            font-weight: 900;
            margin-bottom: 5px;
            text-shadow: 0 0 5px #ff1744;
            text-transform: uppercase;
        }

        .expense-description {
            font-size: 14px;
            color: #ccc;
            font-weight: 600;
        }

        .expense-amount {
            font-size: 24px;
            font-weight: 900;
            color: #ff6b6b;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.5);
        }

        .expense-time {
            font-size: 11px;
            color: #888;
            margin-top: 5px;
        }

        .delete-btn {
            background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
            color: white;
            border: 1px solid #ff1744;
            border-radius: 8px;
            padding: 8px 15px;
            cursor: pointer;
            margin-left: 10px;
            transition: all 0.3s;
            font-size: 18px;
        }

        .delete-btn:active {
            transform: scale(0.9);
            box-shadow: 0 0 15px rgba(220, 20, 60, 0.5);
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .tab {
            flex: 1;
            background: rgba(30, 30, 30, 0.9);
            border: 2px solid #8b0000;
            border-radius: 12px;
            padding: 14px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 900;
            color: #ff6b6b;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
            font-family: 'Rubik', sans-serif;
        }

        .tab:active {
            transform: scale(0.95);
        }

        .tab.active {
            background: linear-gradient(135deg, #dc143c 0%, #8b0000 100%);
            border-color: #ff1744;
            color: white;
            box-shadow: 0 0 20px rgba(220, 20, 60, 0.5);
        }

        .status-message {
            text-align: center;
            padding: 15px;
            background: rgba(30, 30, 30, 0.9);
            border: 2px solid #ff1744;
            border-radius: 12px;
            margin-bottom: 20px;
            color: #fff;
            font-size: 15px;
            font-weight: 700;
            box-shadow: 0 0 15px rgba(255, 23, 68, 0.3);
        }

        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: #888;
            font-size: 16px;
            font-weight: 600;
        }

        .summary-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }

        .summary-card {
            background: rgba(20, 20, 20, 0.9);
            border: 2px solid #8b0000;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            text-align: center;
            transition: all 0.3s;
        }

        .summary-card:hover {
            border-color: #ff1744;
            box-shadow: 0 0 20px rgba(255, 23, 68, 0.3);
        }

        .summary-label {
            font-size: 12px;
            color: #ff6b6b;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .summary-value {
            font-size: 28px;
            font-weight: 900;
            color: #ff1744;
            text-shadow: 0 0 10px rgba(255, 23, 68, 0.5);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üé§ Voice Expense Tracker</h1>
            <div class="budget-container">
                <div class="budget-display">
                    <span class="budget-label">Monthly Budget:</span>
                    <span class="budget-amount" id="budgetDisplay">$5000</span>
                </div>
                <div class="budget-input-group">
                    <input type="number" id="budgetInput" class="budget-input" placeholder="New budget">
                    <button class="budget-btn" onclick="updateBudget()">Update</button>
                </div>
            </div>
        </div>

        <div class="total-box">
            <div class="total-label">Today's Total</div>
            <div class="total-amount" id="todayTotal">$0</div>
            <div class="remaining" id="remaining">Budget remaining: $5000</div>
        </div>

        <div class="input-controls">
            <button class="voice-button" id="voiceBtn" onclick="startVoiceRecognition()">
                <div class="mic-icon">üé§</div>
                <span id="btnText">Press & Speak</span>
            </button>
            <button class="manual-btn" onclick="toggleManualInput()">
                <span style="font-size: 24px;">‚úçÔ∏è</span>
                <span>Type</span>
            </button>
        </div>

        <div class="manual-input" id="manualInput" style="display: none;">
            <input type="number" id="amountInput" class="amount-input" placeholder="Amount (e.g., 50)" inputmode="numeric">
            <input type="text" id="descInput" class="desc-input" placeholder="Description (e.g., lunch)">
            <div style="display: flex; gap: 10px; margin-top: 10px;">
                <button class="add-btn" onclick="addManualExpense()">Add ‚úÖ</button>
                <button class="cancel-btn" onclick="toggleManualInput()">Cancel ‚ùå</button>
            </div>
        </div>

        <div class="status-message" id="statusMsg" style="display: none;"></div>

        <div class="tabs">
            <button class="tab active" onclick="switchTab('today')">Today</button>
            <button class="tab" onclick="switchTab('week')">Week</button>
            <button class="tab" onclick="switchTab('month')">Month</button>
        </div>

        <div class="summary-grid" id="summaryGrid">
            <div class="summary-card">
                <div class="summary-label">Expense Count</div>
                <div class="summary-value" id="expenseCount">0</div>
            </div>
            <div class="summary-card">
                <div class="summary-label">Average</div>
                <div class="summary-value" id="avgExpense">$0</div>
            </div>
        </div>

        <div class="expenses-list" id="expensesList">
            <div class="empty-state">
                No expenses today<br>
                Press the microphone and speak to add an expense
            </div>
        </div>
    </div>

    <script>
        let expenses = JSON.parse(localStorage.getItem('expenses')) || [];
        let monthlyBudget = parseFloat(localStorage.getItem('monthlyBudget')) || 5000;
        let currentTab = 'today';
        let recognition;

        // Initialize
        document.getElementById('budgetDisplay').textContent = '$' + monthlyBudget;
        updateDisplay();

        // Setup Web Speech API
        function initVoiceRecognition() {
            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = false;
                recognition.interimResults = false;
                recognition.lang = 'en-US';
                recognition.maxAlternatives = 1;

                recognition.onstart = function() {
                    document.getElementById('voiceBtn').classList.add('listening');
                    document.getElementById('btnText').textContent = 'Listening... üé§';
                };

                recognition.onresult = function(event) {
                    const transcript = event.results[0][0].transcript;
                    processVoiceInput(transcript);
                };

                recognition.onerror = function(event) {
                    let errorMsg = 'Error occurred';
                    
                    if (event.error === 'not-allowed' || event.error === 'service-not-allowed') {
                        errorMsg = 'Please allow microphone access in browser settings';
                    } else if (event.error === 'no-speech') {
                        errorMsg = 'No speech detected, try again';
                    } else if (event.error === 'network') {
                        errorMsg = 'Network error, check your connection';
                    }
                    
                    showStatus(errorMsg, 'error');
                    document.getElementById('voiceBtn').classList.remove('listening');
                    document.getElementById('btnText').textContent = 'Press & Speak';
                };

                recognition.onend = function() {
                    document.getElementById('voiceBtn').classList.remove('listening');
                    document.getElementById('btnText').textContent = 'Press & Speak';
                };
                
                return true;
            }
            return false;
        }

        function startVoiceRecognition() {
            if (!recognition) {
                if (!initVoiceRecognition()) {
                    showStatus('Voice recognition not supported. Use Chrome or Edge browser.', 'error');
                    return;
                }
            }

            try {
                recognition.stop();
            } catch(e) {}

            setTimeout(() => {
                try {
                    recognition.start();
                } catch (e) {
                    showStatus('Error starting voice recognition', 'error');
                }
            }, 100);
        }

        function processVoiceInput(text) {
            showStatus('Heard: ' + text, 'info');
            
            const amount = extractAmount(text);
            const category = extractCategory(text);
            const description = text;

            if (amount > 0) {
                addExpense(amount, category, description);
                showStatus(`Added $${amount} üí∞`, 'success');
            } else {
                showStatus('Could not understand the amount. Try saying "spent 20 dollars on lunch"', 'error');
            }
        }

        function extractAmount(text) {
            text = text.toLowerCase();
            
            const patterns = [
                /(\d+\.?\d*)\s*(dollars?|bucks?|usd)/i,
                /spent\s*(\d+\.?\d*)/i,
                /paid\s*(\d+\.?\d*)/i,
                /(\d+\.?\d*)\s*(on|for)/i,
                /(\d+\.?\d*)/
            ];

            for (let pattern of patterns) {
                const match = text.match(pattern);
                if (match) {
                    return parseFloat(match[1]);
                }
            }

            return 0;
        }

        function extractCategory(text) {
            const categories = {
                'Food': ['food', 'lunch', 'dinner', 'breakfast', 'meal', 'restaurant', 'coffee', 'snack'],
                'Transport': ['transport', 'taxi', 'uber', 'bus', 'train', 'gas', 'fuel', 'parking'],
                'Shopping': ['shopping', 'store', 'bought', 'purchase', 'clothes'],
                'Bills': ['bill', 'electricity', 'water', 'internet', 'phone', 'rent'],
                'Entertainment': ['entertainment', 'movie', 'cinema', 'game', 'concert'],
                'Health': ['doctor', 'medicine', 'pharmacy', 'hospital', 'health'],
                'Other': []
            };

            text = text.toLowerCase();
            
            for (let [category, keywords] of Object.entries(categories)) {
                for (let keyword of keywords) {
                    if (text.includes(keyword.toLowerCase())) {
                        return category;
                    }
                }
            }

            return 'Other';
        }

        function toggleManualInput() {
            const manualInput = document.getElementById('manualInput');
            
            if (manualInput.style.display === 'none') {
                manualInput.style.display = 'block';
                document.getElementById('amountInput').focus();
            } else {
                manualInput.style.display = 'none';
                document.getElementById('amountInput').value = '';
                document.getElementById('descInput').value = '';
            }
        }

        function addManualExpense() {
            const amount = parseFloat(document.getElementById('amountInput').value);
            const description = document.getElementById('descInput').value.trim();
            
            if (!amount || amount <= 0) {
                showStatus('Please enter an amount', 'error');
                return;
            }
            
            const finalDesc = description || 'Expense';
            const category = extractCategory(finalDesc);
            
            addExpense(amount, category, finalDesc);
            showStatus(`Added $${amount} ‚úÖ`, 'success');
            
            toggleManualInput();
        }

        function addExpense(amount, category, description) {
            const expense = {
                id: Date.now(),
                amount: amount,
                category: category,
                description: description,
                date: new Date().toISOString(),
                timestamp: Date.now()
            };

            expenses.push(expense);
            localStorage.setItem('expenses', JSON.stringify(expenses));
            updateDisplay();
        }

        function deleteExpense(id) {
            expenses = expenses.filter(e => e.id !== id);
            localStorage.setItem('expenses', JSON.stringify(expenses));
            updateDisplay();
        }

        function updateBudget() {
            const newBudget = parseFloat(document.getElementById('budgetInput').value);
            if (newBudget && newBudget > 0) {
                monthlyBudget = newBudget;
                localStorage.setItem('monthlyBudget', monthlyBudget);
                document.getElementById('budgetDisplay').textContent = '$' + monthlyBudget;
                document.getElementById('budgetInput').value = '';
                updateDisplay();
                showStatus('Budget updated ‚úÖ', 'success');
            }
        }

        function switchTab(tab) {
            currentTab = tab;
            document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
            event.target.classList.add('active');
            updateDisplay();
        }

        function updateDisplay() {
            const filtered = getFilteredExpenses();
            const total = filtered.reduce((sum, e) => sum + e.amount, 0);
            
            // Update today's total
            const today = new Date().toDateString();
            const todayExpenses = expenses.filter(e => new Date(e.date).toDateString() === today);
            const todayTotal = todayExpenses.reduce((sum, e) => sum + e.amount, 0);
            
            document.getElementById('todayTotal').textContent = '$' + todayTotal.toFixed(2);

            // Calculate remaining budget (monthly)
            const currentMonth = new Date().getMonth();
            const currentYear = new Date().getFullYear();
            const monthExpenses = expenses.filter(e => {
                const expenseDate = new Date(e.date);
                return expenseDate.getMonth() === currentMonth && expenseDate.getFullYear() === currentYear;
            });
            const monthTotal = monthExpenses.reduce((sum, e) => sum + e.amount, 0);
            const remaining = monthlyBudget - monthTotal;
            
            const remainingEl = document.getElementById('remaining');
            remainingEl.textContent = `Budget remaining: $${remaining.toFixed(2)}`;
            
            if (remaining < 0) {
                remainingEl.className = 'remaining danger';
                remainingEl.textContent = `‚ö†Ô∏è Over budget by $${Math.abs(remaining).toFixed(2)}`;
            } else if (remaining < monthlyBudget * 0.2) {
                remainingEl.className = 'remaining warning';
            } else {
                remainingEl.className = 'remaining';
            }

            // Update summary
            document.getElementById('expenseCount').textContent = filtered.length;
            document.getElementById('avgExpense').textContent = filtered.length > 0 ? 
                '$' + (total / filtered.length).toFixed(2) : '$0';

            // Update expenses list
            const listEl = document.getElementById('expensesList');
            
            if (filtered.length === 0) {
                listEl.innerHTML = '<div class="empty-state">No expenses in this period</div>';
                return;
            }

            listEl.innerHTML = filtered.map(expense => {
                const date = new Date(expense.date);
                const timeStr = date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
                const dateStr = date.toLocaleDateString('en-US');
                
                return `
                    <div class="expense-item">
                        <div class="expense-details">
                            <div class="expense-category">${expense.category}</div>
                            <div class="expense-description">${expense.description}</div>
                            <div class="expense-time">${dateStr} - ${timeStr}</div>
                        </div>
                        <button class="delete-btn" onclick="deleteExpense(${expense.id})">üóëÔ∏è</button>
                        <div class="expense-amount">$${expense.amount.toFixed(2)}</div>
                    </div>
                `;
            }).join('');
        }

        function getFilteredExpenses() {
            const now = new Date();
            const today = now.toDateString();
            
            return expenses.filter(e => {
                const expenseDate = new Date(e.date);
                
                if (currentTab === 'today') {
                    return expenseDate.toDateString() === today;
                } else if (currentTab === 'week') {
                    const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
                    return expenseDate >= weekAgo;
                } else if (currentTab === 'month') {
                    return expenseDate.getMonth() === now.getMonth() && 
                           expenseDate.getFullYear() === now.getFullYear();
                }
                
                return true;
            }).sort((a, b) => b.timestamp - a.timestamp);
        }

        function showStatus(message, type) {
            const statusEl = document.getElementById('statusMsg');
            statusEl.textContent = message;
            statusEl.style.display = 'block';
            
            if (type === 'error') {
                statusEl.style.background = 'rgba(139, 0, 0, 0.9)';
                statusEl.style.borderColor = '#ff1744';
                statusEl.style.color = '#fff';
            } else if (type === 'success') {
                statusEl.style.background = 'rgba(0, 100, 0, 0.9)';
                statusEl.style.borderColor = '#4caf50';
                statusEl.style.color = '#fff';
            } else {
                statusEl.style.background = 'rgba(30, 30, 30, 0.9)';
                statusEl.style.borderColor = '#ff1744';
                statusEl.style.color = '#fff';
            }

            setTimeout(() => {
                statusEl.style.display = 'none';
            }, 4000);
        }

        // Allow Enter key to submit
        document.addEventListener('DOMContentLoaded', function() {
            const descInput = document.getElementById('descInput');
            if (descInput) {
                descInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        addManualExpense();
                    }
                });
            }
        });
    </script>
</body>
</html>
